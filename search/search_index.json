{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome","text":"Caleb Yuen's Datasheet as part of  ClapSense  for  Team 204  <p>Submission: December 01, 2025 </p><p></p>","tags":["tag1","tag2"]},{"location":"#introduction","title":"Introduction","text":"<p>This datasheet explains the design and setup of my part of the project, the Master Controller or Hub, for the Team 204 Clap Activated Smart Light. It shows how my board connects with the Audio, Filter, and Sensor Front End boards, and how it controls the main actuator, which is the lamp that turns on and off when a valid clap is detected.  </p> <p>The goal of this project is to create a smart lighting system that reacts only to real user input while staying simple to set up and safe to use with low voltage power.  </p>","tags":["tag1","tag2"]},{"location":"#project-summary","title":"Project Summary","text":"<p>Clapsense is built around a single Microchip PIC18F57Q43 Curiosity Nano that serves as the Master Controller. The Audio Front End detects claps, the Filter Board manages user inputs and status lights, and the Sensor Front End measures room brightness to help the system perform better.  </p> <p>The Master Controller processes all inputs and sends a command to the lamp actuator, turning the light on or off at the right time. This project combines key embedded system concepts\u2014signal processing, sensor integration, and actuator control\u2014to create a reliable and hands-free lighting experience.</p> <ul> <li>Add context that ties into the link to your team report.</li> </ul>","tags":["tag1","tag2"]},{"location":"#my-contribution","title":"My Contribution","text":"<p>As the Team Lead and Master Controller (Hub) designer for the ClapSense project, Caleb developed the main subsystem that coordinates all communication between the Audio Front-End, Filter Board, and Sensor Front-End. His board, built around the Microchip PIC18F57Q43 Curiosity Nano, manages signal flow, initialization, and decision-making for the entire system.</p> <p>He designed the schematic for the Hub circuit, selected and justified key components such as the TB6612FNG H-Bridge and FIT0495-A DC motor, and documented how the 3.3 V logic, 5 V power regulation, and actuator control integrate safely within the team\u2019s modular 8-pin ribbon interface.</p> <p>Beyond technical design, he ensured consistent documentation, power and logic standardization across all boards, and led coordination between team members during report development and website integration.</p> <p>To review the details listed of the material used to construct the subsection, you can review it in the \"BOM\" section of the datasheet.</p> <p>For all the sections</p>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/","title":"Individual Block Diagram","text":"<p>Team 204 \u2013 Clap-Activated Smart Light Caleb Yuen \u2013 Master Controller (Hub) </p>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#overview","title":"Overview","text":"<p>This page describes the hardware layout of my subsystem (Hub) for the team clap-activated light project. The Master Controller (PIC18F57Q43 Curiosity Nano) processes sensor data from the Audio, Filter, and Sensor Front-End boards, then drives the actuator to control the lamp output. The design uses an 8-pin ribbon-cable standard for consistent power and signal connections across all subsystems.</p>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#block-diagram","title":"Block Diagram","text":"<p> Microcontroller: Microchip PIC18F57Q43 Curiosity Nano  </p> <p>Inputs: - Clap signal (from Audio board) - Filter signal (from Filter board) - Lamp toggle (from Filter board)</p> <p>Outputs: - Status LED (to Filter board) - Heartbeat LED (on Hub) - Actuator control to Sensor Front-End: <code>PWM_MOTOR</code>, <code>MOTOR_IN1</code>, <code>MOTOR_IN2</code>, <code>MOTOR_STBY</code></p> <p>Communication: Discrete GPIO over ribbon; no I\u00b2C in Rev 1. Power: 9 V DC in \u2192 5 V (LM7805) \u2192 3.3 V logic; common GND shared across all boards.</p>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#pin-assignment-table","title":"Pin Assignment Table","text":"Pin Signal Direction Source \u2192 Destination MCU Pin (PIC18F57Q43) Voltage Notes 1 GND \u2014 \u2014 \u2014 0 V Common ground across all subsystems 2 +5V_SYS \u2014 Power \u2192 All Boards \u2014 5 V Regulated output from LM7805 3 CLAP_IN Input Audio \u2192 Hub (assign pin) 3.3 V (via divider) Clap detection digital signal 4 FILTER_SIGNAL_IN Input Filter \u2192 Hub (assign pin) 3.3 V (via divider) Filtered/threshold logic 5 FILTER_TOGGLE Input Filter \u2192 Hub (assign pin) 3.3 V (via divider) Lamp toggle control 6 FILTER_STATUS_LED Output Hub \u2192 Filter (assign pin) 3.3 V Status indicator LED 7 PWM_MOTOR Output (PWM) Hub \u2192 Sensor Front-End (assign pin) 3.3 V Dimming / speed control 8 MOTOR_STBY Output Hub \u2192 Sensor Front-End (assign pin) 3.3 V Enables actuator driver 9 MOTOR_IN1 Output Hub \u2192 Sensor Front-End (assign pin) 3.3 V Direction control A 10 MOTOR_IN2 Output Hub \u2192 Sensor Front-End (assign pin) 3.3 V Direction control B 11 GND \u2014 \u2014 \u2014 0 V Interleaved ground for noise reduction 12 UART_RX_FILTER Input (optional) Filter \u2192 Hub (Debug) (assign pin) 3.3 V Serial receive for Filter board 13 UART_TX_FILTER Output (optional) Hub \u2192 Filter (Debug) (assign pin) 3.3 V Serial transmit to Filter board 14 SPARE \u2014 \u2014 \u2014 \u2014 Reserved for future use <p>Notes: - All PIC18F57Q43 logic operates at 3.3 V. - External 5 V signals are stepped down using 10 k\u03a9 / 20 k\u03a9 resistor dividers. - Only +5V_SYS and GND are shared between boards; interleave GND pins (1 and 11) in the ribbon to minimize noise. - UART pins (12\u201313) are optional for debugging with the Filter board.</p>","tags":["tag1","tag2"]},{"location":"02-Component-Selection/Component-Selection/","title":"Component Selection","text":""},{"location":"02-Component-Selection/Component-Selection/#master-controller-hub","title":"Master Controller (HUB)","text":""},{"location":"02-Component-Selection/Component-Selection/#h-bridge-motor-driver-options","title":"H-Bridge Motor Driver Options","text":"<ol> <li> <p>TB6612FNG</p> <p></p> <ul> <li>$1.82/each</li> <li>link to product</li> </ul> Pros Cons Works with 3.3 V logic, so it connects directly to the Hub without extra parts. Can only handle about 1 amp continuously, so it\u2019s not good for larger motors. Has built-in protection to prevent overheating or short circuits. The small surface-mount chip is tricky to solder without a breakout board. Allows you to control two motors or use both sides together for more power. The 3-amp peak rating only lasts a short time before the chip shuts down. </li> <li> <p>DRV8833</p> <p></p> <ul> <li>$2.62/each</li> <li>link to product</li> </ul> Pros Cons Works with 3.3 V control signals, making it compatible with the Hub. Can get hot under heavy loads and needs good heat spreading on the PCB. Handles two motors and includes built-in protection for over-current, over-temperature, and undervoltage. Only comes in surface-mount packages, so it\u2019s not easy to use on a breadboard. Runs on 2.7\u201310.8 V, which fits perfectly in the project\u2019s \u22649 V limit. Needs a few extra small capacitors for stable operation, adding some circuit complexity. </li> <li> <p>2156-FAN8100N-FS-ND</p> <p></p> <ul> <li>On-Hand</li> <li>link to product</li> </ul> Pros Cons Works perfectly with your project\u2019s 6\u20139 V motor supply and 3.3 V logic from the Hub. Can only handle about 1.5 A per channel, which limits use to smaller motors. Has built-in protection features like thermal shutdown and short-circuit safety. Older chip, no longer in production\u2014can be harder to find replacements or breakout boards. Includes built-in diodes that protect against voltage spikes when motors switch direction.t Has a basic control setup (Forward, Reverse, Brake); requires extra PWM programming for smooth speed control. </li> </ol> <p>Choice: Option 1: Toshiba TB6612FNG</p> <p>Rationale: TB6612FNG is the most practical, low-risk driver for a 6\u20139 V system controlled by a 3.3 V MCU. It gives you reliable bidirectional control, braking, and PWM speed control with simple wiring and strong community support.</p>"},{"location":"02-Component-Selection/Component-Selection/#dc-motor-options","title":"DC Motor Options","text":"<ol> <li> <p>FIT0495-A</p> <p></p> <ul> <li>$9.90/each</li> <li>link to product</li> </ul> Pros Cons Uses very little current (~0.6 A stall), making it safe and easy for the TB6612FNG to drive. Turns slowly (about 15 RPM), so it\u2019s not good for fast-moving applications. Has high torque thanks to its metal gearbox; strong enough to press a button or lift small parts. Can only handle up to 7.5 V, so it can\u2019t use the full 9 V supply limit. Matches the system voltage (6\u20137.5 V) and provides smooth, controlled motion for precise actuation. The gearbox has some mechanical play (backlash), which can cause small delays or looseness in movement. </li> <li> <p>Adafruit 711 \u2013 DC Toy Motor (130 Size)</p> <p></p> <ul> <li>$1.95/each</li> <li>link to product</li> </ul> Pros Cons Runs on 4.5\u20139 V, which fits perfectly within your project\u2019s voltage range. Has very low torque, so it\u2019s not good for pushing, lifting, or heavy mechanical tasks. Fast and inexpensive, great for testing motion, vibration, or quick demos. Comes without a gearbox or mount, so it\u2019s harder to attach to an arm or mechanism. Draws less than 1 A, keeping it safe for the TB6612FNG driver. Wears out quickly under long use, since it\u2019s a small hobby motor designed for short runs. </li> <li> <p>Portescap 16G88-213E.1</p> <p></p> <ul> <li>$59.92/each</li> <li>link to product</li> </ul> Pros Cons Very efficient (\u224884%), which means less heat, longer battery life, and smoother performance. Expensive and harder to find since it\u2019s a precision motor meant for specialized applications. Low current draw (~0.55 A) keeps it safe for the TB6612FNG driver and prevents overheating. Low torque, so it can\u2019t handle heavy loads unless paired with a gearbox. High build quality and smooth operation, great for precision control or demonstrations. Requires custom mounting, since its small shaft and round body don\u2019t fit standard brackets. </li> </ol> <p>Choice: Option 1: DFRobot 6 V Metal Gearmotor (FIT0495-A)</p> <p>Rationale: The DFRobot 6 V metal gearmotor was chosen because its high torque and low speed provide smooth, controlled motion for pressing a button without bouncing or damage. It runs safely on the project\u2019s \u2264 9 V supply, draws less than 1 A, and pairs perfectly with the TB6612FNG driver for simple, reliable actuation.</p>"},{"location":"03-BOM/BOM/","title":"Bill of Materials","text":"","tags":["tag1","tag2"]},{"location":"03-BOM/BOM/#overview","title":"Overview","text":"<p>written context</p>","tags":["tag1","tag2"]},{"location":"03-BOM/BOM/#bill-of-materials-example-as-table","title":"Bill of Materials Example (as Table)","text":"<p>Table ##: An example of one approach to adding your BOM table to this section.</p> Part Name/Description Qty Unit Cost Total Cost Manufacture Manufacturer # Vendor Link Datasheet Link Schematic Reference Designators 8-bit SIPO/SISO Shift Register, SOIC-16 package 1 $0.49 $ 0.49 NXP 74HC595D,112 DigiKey datasheet link U1 0.1 \u00b5F Ceramic Capacitor, +/-10%, X7R, 50V, 0805 package 10 0.2750 $2.75 KEMET C0805F104K5RACTU PRLTA 109 n/a C2, C4, C6, C7, C8, C9, C10, C11, C12, C16 <p>Note: Setting it up as a table is nice because it is completely viewable without scaling issues. Downside is that you have to do the math.</p> <ul> <li>You could also import your BOM via a screenshot of the spreadsheet created BOM</li> </ul>","tags":["tag1","tag2"]},{"location":"03-BOM/BOM/#bill-of-materials-example-as-image","title":"Bill of Materials Example (as Image)","text":"<p> Figure 2: Example Bill of Materials as a screenshot.</p> <p>As you can see, the text can be difficult to read without opening the image.</p>","tags":["tag1","tag2"]},{"location":"04-Schematic/schematic/","title":"Schematic","text":""},{"location":"04-Schematic/schematic/#overview","title":"Overview","text":"<p>This schematic shows my PIC18F57Q43 Curiosity Nano controlling a TB6612FNG motor-driver circuit with a 6 V metal gearmotor (FIT0495A). It includes a 9V \u2192 5 V LM7805 regulator, fuse protection, 3.3 V logic interface, and all system connections defined in our team block diagram.</p>"},{"location":"04-Schematic/schematic/#schematic-preview","title":"Schematic Preview","text":""},{"location":"04-Schematic/schematic/#downloads","title":"Downloads","text":"<ul> <li>View full PDF schematic </li> <li>Download KiCad project ZIP</li> </ul>"},{"location":"04-Schematic/schematic/#notes","title":"Notes","text":"<ul> <li>Logic = 3.3 V (VTG from PIC)  </li> <li>Motor rail = 6 V external  </li> <li>Input 9V DC \u2192 Fuse \u2192 LM7805 \u2192 +5 V rail  </li> <li>TB6612FNG internal MOSFET diodes handle motor back-EMF  </li> </ul> <p>Last updated on 2025-10-18</p>"},{"location":"05-Power-Budget/Power-Budget/","title":"Power Budget","text":""},{"location":"05-Power-Budget/Power-Budget/#overview","title":"Overview","text":"<p>This section will include power consumption estimates for each subsystem once the design is finalized. For now, this page serves as a placeholder with the Power Budget spreadsheet available for reference.  </p> <p>The power budget will later calculate: - Current draw for each component (microcontroller, H-bridge, motor, etc.) - Power rail groupings (3.3 V logic and 6\u20139 V motor) - Supply margins and thermal headroom  </p>"},{"location":"05-Power-Budget/Power-Budget/#conclusions","title":"Conclusions","text":"<p>This page will be updated after testing and measurement data are collected during the External Design Review.  </p>"},{"location":"05-Power-Budget/Power-Budget/#resources","title":"Resources","text":"<p>The Power Budget template can be downloaded below:  </p> <ul> <li>Power Budget (.xlsx) </li> <li>Power Budget (.pdf) </li> </ul>"},{"location":"Appendix/","title":"Appendix - Main Page","text":"<p>The Appendix is where supporting information goes that is not in the main body.</p>"},{"location":"Appendix/another-subfile/","title":"Appendix - Another Subfile","text":"<p>Things to discuss</p>"},{"location":"Appendix/basic-markdown-examples/","title":"Appendix - Basic Markdown Examples","text":""},{"location":"Appendix/basic-markdown-examples/#introduction","title":"Introduction","text":"<p>Bold Text Italic Text Bold and Italic Text</p>"},{"location":"Appendix/basic-markdown-examples/#research-question","title":"Research Question","text":"<ul> <li>Bullet Point 1</li> <li>Bullet Point 2</li> <li>Bullet Point 3</li> </ul>"},{"location":"Appendix/basic-markdown-examples/#images","title":"Images","text":"<p> Figure 2: Early PCB working design</p> <p> Figure 3: Innovation Showcase Spring '25, where the products were a STEM-themed display that demonstrates a single scientific/engineering concept with the intended user of K-12 students interested in learning about science, technology, engineering, or math.</p>"},{"location":"Appendix/basic-markdown-examples/#results","title":"Results","text":"<ol> <li>Numbered Point 1</li> <li>Numbered Point 2</li> <li>Numbered Point 3</li> </ol>"},{"location":"Appendix/basic-markdown-examples/#conclusions-and-future-work","title":"Conclusions and Future Work","text":""},{"location":"Appendix/basic-markdown-examples/#external-links","title":"External Links","text":"<p>example link to idealab</p>"},{"location":"Appendix/basic-markdown-examples/#results_1","title":"Results","text":"<ol> <li>Numbered Point 1</li> <li>Numbered Point 2</li> <li>Numbered Point 3</li> </ol>"},{"location":"Appendix/basic-markdown-examples/#conclusions-and-future-work_1","title":"Conclusions and Future Work","text":""},{"location":"Appendix/basic-markdown-examples/#external-links_1","title":"External Links","text":"<p>example link to idealab</p>"},{"location":"Appendix/basic-markdown-examples/#references","title":"References","text":""},{"location":"Appendix/charts/","title":"Appendix - Charts Example","text":"<pre><code>graph LR\n  A[Start] --&gt; B{Error?};\n  B --&gt;|Yes| C[Hmm...];\n  C --&gt; D[Debug];\n  D --&gt; B;\n  B ----&gt;|No| E[Yay!];</code></pre> <pre><code>sequenceDiagram\n  autonumber\n  Alice-&gt;&gt;John: Hello John, how are you?\n  loop Healthcheck\n      John-&gt;&gt;John: Fight against hypochondria\n  end\n  Note right of John: Rational thoughts!\n  John--&gt;&gt;Alice: Great!\n  John-&gt;&gt;Bob: How about you?\n  Bob--&gt;&gt;John: Jolly good!</code></pre> <pre><code>stateDiagram-v2\n  state fork_state &lt;&lt;fork&gt;&gt;\n    [*] --&gt; fork_state\n    fork_state --&gt; State2\n    fork_state --&gt; State3\n\n    state join_state &lt;&lt;join&gt;&gt;\n    State2 --&gt; join_state\n    State3 --&gt; join_state\n    join_state --&gt; State4\n    State4 --&gt; [*]</code></pre>"},{"location":"Appendix/esp-32-table/","title":"Appendix - Example Controller Table for the ESP32","text":"ESP Info Answer Help Model ? Include the entire part number (leave off any letters at the end that specify the package type) Product Page URL ? Found on Espressif.com ESP32-S3-WROOM-1-N4 Datasheet URL ? Do not paste links directly into the table.  Use a link ESP32 S3 Datasheet URL ? Has more detail on functions ESP32 S3 Technical Reference Manual URL ? Has details on I/O multiplexing, USB, and others Vendor link ? Digikey, Jameco, etc.  Do not paste links directly into the table.  Use a link Code Examples ? url(s) for libraries on github or other sites related to the microcontroller and your planned peripherals External Resources URL(s) ? Search on Google and YouTube for other resources for each specific microcontroller. Unit cost ? Find on Digikey, Jameco, MPJA, or octopart Absolute Maximum Current for entire IC ? Find in the microcontroller datasheet Supply Voltage Range ? Min / Nominal / Max / Absolute Max, as found in datasheet Absolute Maximum current  (for entire IC) ? as found in datasheet Maximum GPIO current  (per pin) ? as found in datasheet Supports External Interrupts? ? as found in datasheet Required Programming Hardware, Cost, URL ? as found in datasheet Module # Available Needed Associated Pins (or * for any) UART ? ? ? external SPI* ? ? ? I2C ? ? ? GPIO ? ? ? ADC ? ? ? LED PWM ? ? ? Motor PWM ? ? ? USB Programmer ? 1 ? ... <p>* The ESP32-S2 has multiple SPI interfaces, but some are for internal use</p>"}]}